HostPath Working principle of hostPath volume type - [Doc]

###### HostPath: Working principle of hostPath volume type

Now,  will cover the next **Volume Type: hostPath** and learn what are all the advantages and such with this one - **HostPath**
![[hostpath]]

Will take the same example as we did for `emptyDir` where we have a cluster with 2 nodes namely `computeplanenode1` having `pod1 and pod3`  and ` computeplanenode2` having `pod2` where it is running a `deployment` object with `replica=3` where each POD having 2 containers in it.

Here, in the volumes perspective,
We have used `emptyDir` which keeps things in the `/var/lib/kubelet/pods/<UID>/kubernetes.io~emptyDir/PodVolumeName/<data`

How does this `hostPath` shares data in-between?
>  just like in docker how we do **bind mount** between container and the local fs. SAME HERE!

```
mountpath/of/the/local/fs -> /WORKDIR
```

AS PER THE PODs defined in the diagram, 
- Pod 1, Pod 3's WORKDIR `/var/tmp` has been mounted to a folder in our local system,
- Pod 2's WORKDIR `/var/tmp` has been mounted to a folder in our local system separately.
And this separation is the **limitation** is what we have in this `VolumeType`.

1) No common shared storage space available for the PODs to share the data on scale. 

**So, what makes the `hostPath` different from `emptyDir` is that if we delete or recreate the volume or POD, the data doesn't go along with that.**
And 

2) If we get to recreate a POD, to spawn the data in the clean state POD, simply can just mount the previous directory to the Pod's WORKDIR.
But can't guarantee that the POD will be spun on the same node again, to be mounted to the previous directory to the POD to respawn back the data into it.

**If the POD get to be in the same node, then only we can able to make this VolumeType work.** 

Backup, restore and such only if the POD gets to be on the same node. 
**==To remediate that, we should stuff such as NodeAffinity, Node selector, Node Name where we can able to get to control the scheduler to make it work as per our convenience, these things are viable. Will cover those soon.==** 

If the entire node gets down. Poofff! No data will left with this `emptyDir` and `hostpath`.

`HostPath` is comparatively better than `emptyDir`. Since you can able to recover. But not so much where we want volumes to be retrievable even to the level where the node itself crashes. 

**Will compare `HostPath` with another VolumeType called `NFS`**, that tell the cons of `HostPath` thou.

Now, will dig deep into `HostPath` and will see the  
- What is it?
- Types of HostPath
- Files based, directory based
- Socket based, block storage based and more. 


---
