##### Section 8: K8S Daemon Set
1.  Introduction to Daemon Set(ds)
		k8s workload resource Introduction to DaemonSet (ds) - [Doc]
2.  DaemonSet workflow(Declarative approach)
		DaemonSet workflow (Declarative approach) - [Doc]
3.  DaemonSet rollout and rollback(strategy type: Rolling Update)
		DaemonSet rollout and rollback (strategy type Rolling Update) - [Doc]
4.  DaemonSet rollout and rollback(strategy type: On Delete)
		DaemonSet rollout and rollback (strategy type On Delete) - [Doc]
5.  DaemonSet controller revision resource
		DaemonSet controller revision resource - [Doc]
---

# 1.  Introduction to DaemonSet(ds)
k8s workload resource Introduction to DaemonSet (ds) - [Doc]

> K8s Workloads - ==**DaemonSet `ds`**==

Will see our next as part the of the list of **Kubernetes Workload Resources:** **`DaemonSet`**. Shortcut: `ds` as part of the concept under .
- what is `DaemonSet`

##### K8s Workload Resources: **DaemonSet** `ds`
- `DaemonSet` object makes sures that one **POD will running on each node** (control plane and worker node).
- It doesn't support `replica` concept, for which `scaleIn` and `scaleOut` feature is not available
- **Workflow**: `DaemonSet` -> POD
- `apiVersion` for `DaemonSet` Object is `apps/v1`
- Since by default control plane node doesn't launch workloads, we need to define tolerations under template
- DaemonSet object supports two selector parameters (`matchLabels` and `matchExpressions`)
- In order to manage PODs controller by `ds`, `.spec.selector` should match with `.spec.template.metadata.labels`
- We can still control the `ds` to launch POD on specific node with help of `nodeSelector` and `nodeAffinity`
- **DaemonSet** supports `rollout` and `rollback` of PODs
- `DaemonSet` has two **update strategies**:
1) **`RollingUpdate`** (default) -> max unavailable, max surge
2) OnDelete
- **DaemonSet** revision history limit can be set under `.spec.revisionHistoryLimit` (default:10)
```
kubectl rollout history ds/daemonsetName
```
- For DaemonSet, each revision is stored in a resource names ControllerRevision
```
kubectl get controllerrevision -l ds-key=ds-value
```

##### `DaemonSet` object makes sures that one **POD will running on each node** (control plane and worker node).



##### It doesn't support `replica` concept, for which `scaleIn` and `scaleOut` feature is not available



##### **Workflow**: `DaemonSet` -> POD


##### `apiVersion` for `DaemonSet` Object is `apps/v1`





##### Since by default control plane node doesn't launch workloads, we need to define tolerations under template




##### DaemonSet object supports two selector parameters (`matchLabels` and `matchExpressions`)


 
 
##### In order to manage PODs controller by `ds`, `.spec.selector` should match with `.spec.template.metadata.labels`




##### We can still control the `ds` to launch POD on specific node with help of `nodeSelector` and `nodeAffinity`




##### **DaemonSet** supports `rollout` and `rollback` of PODs




##### `DaemonSet` has two **update strategies**:
1) **`RollingUpdate`** (default) -> max unavailable, max surge
2) OnDelete



##### **DaemonSet** revision history limit can be set under `.spec.revisionHistoryLimit` (default:10)
```
kubectl rollout history ds/daemonsetName
```



##### For DaemonSet, each revision is stored in a resource names ControllerRevision
```
kubectl get controllerrevision -l ds-key=ds-value
```





---
